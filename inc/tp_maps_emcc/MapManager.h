#ifndef tp_maps_emcc_MapManager_h
#define tp_maps_emcc_MapManager_h

#include "tp_maps_emcc/Globals.h"

#include <functional>

namespace tp_maps_emcc
{
class Map;

//##################################################################################################
struct MapDetails
{
  Map* map;

  //################################################################################################
  MapDetails(Map* map_);

  //################################################################################################
  virtual ~MapDetails();
};

//##################################################################################################
class TP_MAPS_EMCC_SHARED_EXPORT MapManager
{
public:
  //################################################################################################
  MapManager(std::function<MapDetails*(Map*)> createMapDetails);

  //################################################################################################
  virtual ~MapManager();

  //################################################################################################
  void exec();

  //################################################################################################
  void* createMap(char* canvasID);

  //################################################################################################
  void destroyMap(void* handle);

private:
  struct Private;
  Private* d;
  friend struct Private;
};
}
#endif
